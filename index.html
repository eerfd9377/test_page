<!doctype html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>금 가격 트래커 (XAU)</title>
    <meta name="description" content="실시간 금(XAU) 시세를 통화별로 확인하고, 간단한 추세(최근 기록)를 보여주는 정적 사이트입니다." />
    <link rel="stylesheet" href="./styles.css" />
  </head>
  <body>
    <header class="header">
      <div class="container">
        <a class="brand" href="#top">금 가격 트래커</a>
        <nav class="nav" aria-label="주요 메뉴">
          <a href="#now">현재 시세</a>
          <a href="#trend">추세</a>
          <a href="#about">설명</a>
        </nav>
        <button class="theme" id="themeToggle" type="button" aria-label="테마 전환">
          <span aria-hidden="true">◐</span>
        </button>
      </div>
    </header>

    <main id="top">
      <section class="hero">
        <div class="container">
          <p class="kicker">현재 금값을 가볍게 추적</p>
          <h1>Gold (XAU) Price Tracker</h1>
          <p class="subtitle">
            선택한 통화 기준으로 금(1oz / 1g) 가격을 불러오고, 최근 기록을 저장해 간단한 추세를 보여줍니다.
          </p>
          <div class="cta">
            <a class="btn primary" href="#now">시세 보기</a>
            <a class="btn" href="#trend">추세 보기</a>
          </div>
          <p class="note" id="clock" aria-live="polite"></p>
        </div>
      </section>

      <section id="now" class="section">
        <div class="container">
          <h2>현재 시세</h2>
          <div class="controls">
            <label>
              기준 통화
              <select id="currency">
                <option value="JPY" selected>JPY (엔)</option>
                <option value="USD">USD (달러)</option>
                <option value="KRW">KRW (원)</option>
                <option value="EUR">EUR (유로)</option>
                <option value="GBP">GBP (파운드)</option>
              </select>
            </label>
            <label>
              자동 새로고침
              <select id="interval">
                <option value="0">끔</option>
                <option value="30">30초</option>
                <option value="60" selected>60초</option>
                <option value="300">5분</option>
              </select>
            </label>
            <button class="btn primary" id="refresh" type="button">지금 새로고침</button>
          </div>

          <div class="grid">
            <article class="card">
              <div class="row">
                <h3>금 1 트로이온스 (1oz)</h3>
                <span class="pill" id="badgeCurr">JPY</span>
              </div>
              <p class="big" id="priceOz">—</p>
              <p class="muted" id="chgOz">—</p>
            </article>

            <article class="card">
              <div class="row">
                <h3>금 1그램 (1g)</h3>
                <span class="pill" id="badgeCurr2">JPY</span>
              </div>
              <p class="big" id="priceG">—</p>
              <p class="muted" id="chgG">—</p>
            </article>

            <article class="card">
              <div class="row">
                <h3>업데이트</h3>
                <span class="pill ok">Live</span>
              </div>
              <p class="muted" id="asof">—</p>
              <p class="note" id="status" role="status"></p>
            </article>
          </div>
        </div>
      </section>

      <section id="trend" class="section alt">
        <div class="container">
          <h2>추세(최근 기록)</h2>
          <p class="muted">이 브라우저에만 저장됩니다(로컬스토리지). 새로고침해도 유지됩니다.</p>

          <div class="grid">
            <article class="card span2">
              <div class="row">
                <h3>최근 1oz 가격</h3>
                <span class="pill" id="trendCurr">JPY</span>
              </div>
              <canvas id="chart" width="900" height="260" aria-label="가격 추세 차트"></canvas>
              <p class="muted" id="trendMeta">—</p>
            </article>

            <article class="card">
              <h3>관리</h3>
              <p class="muted">필요하면 기록을 지울 수 있습니다.</p>
              <div class="actions">
                <button class="btn" id="clear" type="button">기록 지우기</button>
              </div>
            </article>
          </div>
        </div>
      </section>

      <section id="about" class="section">
        <div class="container">
          <h2>설명</h2>
          <ul>
            <li><strong>데이터:</strong> 공개 JSON 엔드포인트(금 시세)에서 가져옵니다.</li>
            <li><strong>주의:</strong> 투자 판단용이 아니라 참고용입니다(거래소/스프레드/지연 가능).</li>
            <li><strong>배포:</strong> 정적 사이트라 GitHub Pages에 그대로 올릴 수 있습니다.</li>
          </ul>
        </div>
      </section>
    </main>

    <footer class="footer">
      <div class="container">
        <p>© <span id="year"></span> 금 가격 트래커 · Made by 비서군</p>
      </div>
    </footer>

    <script src="./script.js" defer></script>
  </body>
</html>
